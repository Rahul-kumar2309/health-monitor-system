/* ================================================================
   IoT Health Monitor — Themeable Medical Dashboard
   ================================================================ */

/* ── Reset ────────────────────────────────────────────────────── */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ── Shared Constants (never change per theme) ────────────────── */
:root {
    --font-body:   'Roboto', sans-serif;
    --font-display: 'Orbitron', sans-serif;
    --font-mono:   'Roboto Mono', 'Courier New', monospace;
    --radius:    16px;
    --radius-sm: 10px;
    --radius-xs: 6px;
}

/* ================================================================
   LIGHT THEME  (Default)
   ================================================================ */
html, body {
    --bg:              #F4F7F6;
    --bg-card:         #FFFFFF;
    --bg-card-hover:   #f0f3f2;
    --bg-surface:      #e8edec;
    --bg-input:        #f0f2f4;
    --surface-2:       #eef1f3;

    --accent:          #007bff;
    --accent-dim:      rgba(0, 123, 255, .10);
    --accent-glow:     rgba(0, 123, 255, .25);

    --neon-green:      #00b86e;
    --neon-green-dim:  rgba(0, 184, 110, .10);
    --neon-green-glow: rgba(0, 184, 110, .25);
    --neon-red:        #e5003a;
    --neon-red-dim:    rgba(229, 0, 58, .08);
    --neon-red-glow:   rgba(229, 0, 58, .25);
    --neon-cyan:       #0097cc;
    --neon-cyan-dim:   rgba(0, 151, 204, .08);
    --neon-orange:     #d97700;
    --neon-orange-dim: rgba(217, 119, 0, .08);
    --neon-purple:     #8b3ecf;
    --neon-purple-dim: rgba(139, 62, 207, .10);
    --neon-purple-glow:rgba(139, 62, 207, .25);

    --text:            #333333;
    --text-dim:        #666666;
    --text-bright:     #111111;
    --text-main:       #333333;

    --border:          #dddddd;
    --border-glow:     rgba(0, 184, 110, .20);
    --bar-bg:          rgba(0, 0, 0, .06);
    --row-border:      rgba(0, 0, 0, .06);
    --row-hover:       rgba(0, 0, 0, .03);
    --option-bg:       #ffffff;
    --shadow:          0 4px 6px rgba(0,0,0,.1);
    --shadow-header:   0 2px 12px rgba(0,0,0,.06);

    --toggle-track:    #ccc;
    --toggle-thumb:    #999;
    --toggle-thumb-on: #fff;

    --card-shadow-hover: 0 8px 30px rgba(0,0,0,.12);
    --status-bg:       rgba(0,0,0,.02);
}

/* ================================================================
   DARK / CYBERPUNK THEME
   ================================================================ */
body.dark-mode {
    --bg:              #050505;
    --bg-card:         #101010;
    --bg-card-hover:   #1a1a2e;
    --bg-surface:      #0a0a1a;
    --bg-input:        #0f0f1a;
    --surface-2:       #1e1e32;

    --accent:          #00ffcc;
    --accent-dim:      rgba(0, 255, 204, .12);
    --accent-glow:     rgba(0, 255, 204, .30);

    --neon-green:      #00ffcc;
    --neon-green-dim:  rgba(0, 255, 204, .15);
    --neon-green-glow: rgba(0, 255, 204, .35);
    --neon-red:        #ff003c;
    --neon-red-dim:    rgba(255, 0, 60, .15);
    --neon-red-glow:   rgba(255, 0, 60, .40);
    --neon-cyan:       #00d4ff;
    --neon-cyan-dim:   rgba(0, 212, 255, .12);
    --neon-orange:     #ff8c00;
    --neon-orange-dim: rgba(255, 140, 0, .12);
    --neon-purple:     #b14eff;
    --neon-purple-dim: rgba(177, 78, 255, .15);
    --neon-purple-glow:rgba(177, 78, 255, .35);

    --text:            #e0e0e0;
    --text-dim:        #b3b3b3;
    --text-bright:     #ffffff;
    --text-main:       #00ffcc;

    --border:          #00ffcc;
    --border-glow:     rgba(0, 255, 204, .30);
    --bar-bg:          rgba(255,255,255,.06);
    --row-border:      rgba(255,255,255,.06);
    --row-hover:       rgba(0,255,204,.05);
    --option-bg:       #101010;
    --shadow:          0 0 15px rgba(0, 255, 204, 0.2);
    --shadow-header:   0 0 20px rgba(0, 255, 204, .15);

    --toggle-track:    #333;
    --toggle-thumb:    #777;
    --toggle-thumb-on: #fff;

    --card-shadow-hover: 0 0 25px rgba(0, 255, 204, .15);
    --status-bg:       rgba(255,255,255,.02);
}

html { scroll-behavior: smooth; }

body {
    font-family: var(--font-body);
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    -webkit-font-smoothing: antialiased;
    line-height: 1.55;
    transition: background .4s ease, color .4s ease;
}

/* Scanline effect — dark mode only */
body.dark-mode::before {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9999;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, .03) 2px,
        rgba(0, 0, 0, .03) 4px
    );
}

/* ================================================================
   HEADER
   ================================================================ */
header {
    background: var(--bg-surface);
    border-bottom: 1px solid var(--border);
    padding: 1rem 2.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 1rem;
    position: sticky;
    top: 0;
    z-index: 500;
    box-shadow: var(--shadow-header);
    transition: background .4s, border-color .4s, box-shadow .4s;
}

.header__left {
    display: flex;
    align-items: center;
    gap: 1rem;
}

/* Animated pulse ring */
.header__pulse-ring {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--neon-green);
    box-shadow: 0 0 8px var(--neon-green-glow);
    position: relative;
    flex-shrink: 0;
}
.header__pulse-ring::after {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: 50%;
    border: 2px solid var(--neon-green);
    animation: ring-expand 2s ease-out infinite;
    opacity: 0;
}
@keyframes ring-expand {
    0%   { transform: scale(.6); opacity: .8; }
    100% { transform: scale(1.8); opacity: 0; }
}

.header__title {
    font-family: var(--font-display);
    font-size: 1.15rem;
    font-weight: 600;
    letter-spacing: .04em;
    color: var(--text);
    transition: color .4s;
}
.header__name {
    color: var(--neon-green);
    text-shadow: 0 0 12px var(--neon-green-glow);
}

.header__right {
    display: flex;
    align-items: center;
    gap: 1.2rem;
}

/* ── Theme Toggle Button ──────────────────────────── */
.theme-toggle {
    display: flex; align-items: center; gap: .3rem;
    padding: .35rem .9rem; border-radius: 999px;
    border: 1px solid var(--accent);
    background: var(--accent-dim);
    color: var(--accent);
    font-family: var(--font-display); font-size: .68rem;
    font-weight: 600; letter-spacing: .04em;
    cursor: pointer; transition: all .3s; white-space: nowrap;
}
.theme-toggle:hover {
    background: var(--accent); color: var(--bg);
    box-shadow: 0 0 15px var(--accent-glow);
}

/* ── Fall Detection Toggle ──────────────────────────── */
.fall-toggle {
    display: flex; align-items: center; gap: .5rem;
    cursor: pointer; user-select: none;
}
.fall-toggle__label {
    font-size: .72rem; color: var(--text-dim);
    font-family: var(--font-display); font-weight: 600;
    letter-spacing: .03em; transition: color .4s;
}
.fall-toggle input { display: none; }
.fall-toggle__slider {
    position: relative; width: 38px; height: 20px;
    background: var(--toggle-track); border-radius: 10px;
    transition: background .3s;
}
.fall-toggle__slider::after {
    content: ''; position: absolute; top: 2px; left: 2px;
    width: 16px; height: 16px; border-radius: 50%;
    background: var(--toggle-thumb); transition: transform .3s, background .3s;
}
.fall-toggle input:checked + .fall-toggle__slider {
    background: var(--neon-green);
    box-shadow: 0 0 8px var(--neon-green-glow);
}
.fall-toggle input:checked + .fall-toggle__slider::after {
    transform: translateX(18px); background: var(--toggle-thumb-on);
}

/* Status badge */
.header__badge {
    display: flex;
    align-items: center;
    gap: .45rem;
    padding: .35rem .9rem;
    border-radius: 999px;
    background: var(--neon-red-dim);
    border: 1px solid var(--neon-red);
    font-size: .78rem;
    font-weight: 500;
    color: var(--neon-red);
    transition: all .4s;
}
.header__badge.live {
    background: var(--neon-green-dim);
    border-color: var(--neon-green);
    color: var(--neon-green);
}

.header__dot {
    width: 9px;
    height: 9px;
    border-radius: 50%;
    background: var(--neon-red);
    transition: background .4s, box-shadow .4s;
}
.header__badge.live .header__dot {
    background: var(--neon-green);
    box-shadow: 0 0 8px var(--neon-green);
    animation: dot-blink 1.5s ease-in-out infinite;
}
@keyframes dot-blink {
    0%, 100% { opacity: 1; }
    50%      { opacity: .3; }
}

.header__device {
    font-size: .75rem;
    color: var(--text-dim);
    font-family: var(--font-display);
    letter-spacing: .06em;
    transition: color .4s;
}

/* ── Toast Notification ────────────────────────────── */
.toast {
    position: fixed; top: -60px; left: 50%; transform: translateX(-50%);
    padding: .6rem 1.4rem; border-radius: var(--radius-xs);
    font-family: var(--font-display); font-size: .82rem; font-weight: 600;
    color: #fff; z-index: 9999;
    transition: top .4s cubic-bezier(.4,0,.2,1), opacity .4s;
    opacity: 0; pointer-events: none;
    box-shadow: var(--shadow);
}
.toast.show { top: 20px; opacity: 1; }
.toast.toast--success { background: rgba(0,200,120,.9); }
.toast.toast--warning { background: rgba(220,80,60,.9); }

/* ================================================================
   MAIN LAYOUT
   ================================================================ */
main {
    flex: 1;
    max-width: 1340px;
    width: 100%;
    margin: 0 auto;
    padding: 2rem 2.5rem 3rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* ================================================================
   VITAL CARDS  (Top Row)
   ================================================================ */
.vitals-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
}

.vital-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 1.6rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1.2rem;
    transition: transform .3s, box-shadow .3s, border-color .3s, background .4s;
    position: relative;
    overflow: hidden;
    box-shadow: var(--shadow);
}
.vital-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 20% 50%, var(--neon-green-dim), transparent 70%);
    opacity: 0;
    transition: opacity .4s;
}
.vital-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--card-shadow-hover);
    border-color: var(--border-glow);
}
.vital-card:hover::before { opacity: 1; }

/* Override glow tint per card */
#card-spo2::before  { background: radial-gradient(circle at 20% 50%, var(--neon-cyan-dim), transparent 70%); }
#card-temp::before  { background: radial-gradient(circle at 20% 50%, var(--neon-orange-dim), transparent 70%); }

/* Icon circle */
.vital-card__icon-wrap {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    font-size: 1.7rem;
    flex-shrink: 0;
    position: relative;
    z-index: 1;
}
.vital-card__icon-wrap--hr   { background: var(--neon-red-dim);    box-shadow: 0 0 20px var(--neon-red-dim); }
.vital-card__icon-wrap--spo2 { background: var(--neon-cyan-dim);   box-shadow: 0 0 20px var(--neon-cyan-dim); }
.vital-card__icon-wrap--temp { background: var(--neon-orange-dim); box-shadow: 0 0 20px var(--neon-orange-dim); }

.vital-card__info {
    flex: 1;
    position: relative;
    z-index: 1;
}

.vital-card__label {
    display: block;
    font-size: .72rem;
    text-transform: uppercase;
    letter-spacing: .1em;
    color: var(--text-dim);
    font-weight: 500;
    margin-bottom: .25rem;
    transition: color .4s;
}

.vital-card__reading {
    display: flex;
    align-items: baseline;
    gap: .35rem;
}

.vital-card__value {
    font-family: var(--font-display);
    font-size: 2.4rem;
    font-weight: 700;
    line-height: 1;
    color: var(--text-bright);
    transition: color .3s, text-shadow .3s;
}
.vital-card__value.normal  { color: var(--neon-green); text-shadow: 0 0 14px var(--neon-green-glow); }
.vital-card__value.danger  { color: var(--neon-red);   text-shadow: 0 0 14px var(--neon-red-glow);   }

.vital-card__unit {
    font-size: .85rem;
    color: var(--text-dim);
    font-weight: 400;
    transition: color .4s;
}

/* Mini progress bar */
.vital-card__bar {
    margin-top: .6rem;
    height: 4px;
    border-radius: 999px;
    background: var(--bar-bg);
    overflow: hidden;
}
.vital-card__bar-fill {
    height: 100%;
    border-radius: 999px;
    background: var(--neon-green);
    box-shadow: 0 0 6px var(--neon-green-glow);
    transition: width .5s ease, background .3s;
}
.vital-card__bar-fill.danger {
    background: var(--neon-red);
    box-shadow: 0 0 6px var(--neon-red-glow);
}

/* ================================================================
   CHART SECTION (Middle Row)
   ================================================================ */
.chart-section {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 1.5rem 1.8rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    box-shadow: var(--shadow);
    transition: background .4s, border-color .4s, box-shadow .4s;
}

.chart-section__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.chart-section__title {
    font-family: var(--font-display);
    font-size: .9rem;
    font-weight: 600;
    letter-spacing: .04em;
    color: var(--text);
    transition: color .4s;
}

.chart-section__tag {
    font-size: .7rem;
    padding: .25rem .7rem;
    border-radius: 999px;
    background: var(--neon-red-dim);
    color: var(--neon-red);
    border: 1px solid var(--neon-red);
    font-weight: 500;
    letter-spacing: .04em;
    transition: all .3s;
}
.chart-section__tag.live {
    background: var(--neon-green-dim);
    color: var(--neon-green);
    border-color: var(--neon-green);
}

.chart-section__canvas-wrap {
    position: relative;
    width: 100%;
    height: 280px;
}
.chart-section__canvas-wrap canvas {
    width: 100% !important;
    height: 100% !important;
}

/* ================================================================
   SYSTEM LOGS (Bottom Row)
   ================================================================ */
.logs-section {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 1.2rem 1.5rem;
    display: flex;
    flex-direction: column;
    gap: .75rem;
    box-shadow: var(--shadow);
    transition: background .4s, border-color .4s;
}

.logs-section__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.logs-section__title {
    font-family: var(--font-display);
    font-size: .85rem;
    font-weight: 600;
    letter-spacing: .04em;
    color: var(--text);
    transition: color .4s;
}

.logs-section__clear {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-dim);
    font-size: .72rem;
    padding: .3rem .8rem;
    border-radius: var(--radius-xs);
    cursor: pointer;
    font-family: var(--font-body);
    transition: all .25s;
}
.logs-section__clear:hover {
    border-color: var(--neon-red);
    color: var(--neon-red);
}

.logs-section__body {
    max-height: 200px;
    overflow-y: auto;
    padding: .6rem .8rem;
    background: var(--bg-input);
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: .78rem;
    line-height: 1.75;
    scrollbar-width: thin;
    scrollbar-color: var(--accent) transparent;
    transition: background .4s;
}
.logs-section__body::-webkit-scrollbar       { width: 5px; }
.logs-section__body::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 999px; }

.log-entry {
    padding: .15rem 0;
    animation: log-in .3s ease-out;
}
@keyframes log-in {
    from { opacity: 0; transform: translateX(-6px); }
    to   { opacity: 1; transform: translateX(0); }
}

.log-ts {
    color: var(--text-dim);
    margin-right: .4rem;
}

.log-entry--info    { color: var(--neon-cyan); }
.log-entry--data    { color: var(--neon-green); }
.log-entry--warning { color: var(--neon-orange); }
.log-entry--danger  { color: var(--neon-red); }

/* ================================================================
   FALL DETECTION OVERLAY
   ================================================================ */
.fall-overlay {
    position: fixed;
    inset: 0;
    z-index: 10000;
    display: none;
    place-items: center;
    background: rgba(180, 0, 0, .85);
    backdrop-filter: blur(6px);
    animation: flash-bg .6s ease-in-out infinite alternate;
}
.fall-overlay.active {
    display: grid;
}

@keyframes flash-bg {
    0%   { background: rgba(180, 0, 0, .92); }
    100% { background: rgba(120, 0, 0, .70); }
}

.fall-overlay__content {
    text-align: center;
    animation: overlay-pop .4s ease-out;
}
@keyframes overlay-pop {
    from { transform: scale(.8); opacity: 0; }
    to   { transform: scale(1);  opacity: 1; }
}

.fall-overlay__icon {
    font-size: 5rem;
    display: block;
    margin-bottom: 1rem;
    animation: icon-shake .4s ease-in-out infinite alternate;
}
@keyframes icon-shake {
    from { transform: translateX(-6px) rotate(-3deg); }
    to   { transform: translateX(6px) rotate(3deg); }
}

.fall-overlay__title {
    font-family: var(--font-display);
    font-size: 3rem;
    font-weight: 900;
    color: #fff;
    text-shadow: 0 0 30px rgba(255,0,0,.8);
    letter-spacing: .08em;
}

.fall-overlay__sub {
    font-size: 1.1rem;
    color: rgba(255,255,255,.75);
    margin-top: .5rem;
    margin-bottom: 2rem;
}

.fall-overlay__safe-btn {
    font-family: var(--font-display);
    font-size: 1.1rem;
    font-weight: 900;
    letter-spacing: .08em;
    padding: 1rem 2.5rem;
    border: 3px solid #fff;
    background: #fff;
    color: #cc0000;
    border-radius: var(--radius);
    cursor: pointer;
    transition: all .3s;
    animation: safe-pulse 1.2s ease-in-out infinite alternate;
    text-transform: uppercase;
}
.fall-overlay__safe-btn:hover {
    background: transparent;
    color: #fff;
    box-shadow: 0 0 30px rgba(255,255,255,.5);
}
@keyframes safe-pulse {
    from { transform: scale(1); box-shadow: 0 0 10px rgba(255,255,255,.3); }
    to   { transform: scale(1.05); box-shadow: 0 0 30px rgba(255,255,255,.6); }
}

/* ================================================================
   MEDICINE REMINDER CARD
   ================================================================ */
.reminder-section { display: flex; }
.reminder-card {
    flex: 1; background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius); padding: 1.5rem 1.8rem; transition: border-color .3s, background .4s;
    box-shadow: var(--shadow);
}
.reminder-card:hover { border-color: var(--neon-purple); }
.reminder-card__header { display: flex; align-items: center; gap: .7rem; margin-bottom: 1.2rem; }
.reminder-card__icon { font-size: 1.6rem; }
.reminder-card__title {
    font-family: var(--font-display); font-size: .9rem; font-weight: 600;
    letter-spacing: .04em; color: var(--text); transition: color .4s;
}
.reminder-card__body { display: flex; align-items: flex-end; gap: 1rem; flex-wrap: wrap; }
.reminder-card__input-group { display: flex; flex-direction: column; gap: .35rem; flex: 1; }
.reminder-card__label {
    font-size: .7rem; text-transform: uppercase; letter-spacing: .08em;
    color: var(--text-dim); font-weight: 500; transition: color .4s;
}
.reminder-card__picker {
    display: flex; align-items: center; gap: .4rem;
}
.reminder-card__select {
    background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-xs);
    padding: .55rem .7rem; font-family: var(--font-display); font-size: 1rem;
    color: var(--neon-purple); outline: none; cursor: pointer;
    transition: border-color .3s, box-shadow .3s, background .4s;
    appearance: none; -webkit-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23a855f7' stroke-width='1.5' fill='none'/%3E%3C/svg%3E");
    background-repeat: no-repeat; background-position: right .6rem center;
    padding-right: 1.8rem;
}
.reminder-card__select:focus {
    border-color: var(--neon-purple); box-shadow: 0 0 12px var(--neon-purple-glow);
}
.reminder-card__select:hover {
    border-color: var(--neon-purple);
}
.reminder-card__select option {
    background: var(--option-bg); color: var(--text);
}
.reminder-card__select--min { min-width: 70px; }
.reminder-card__select--ampm { min-width: 65px; font-weight: 600; letter-spacing: .04em; }
.reminder-card__colon {
    font-family: var(--font-display); font-size: 1.4rem; font-weight: 700;
    color: var(--neon-purple); user-select: none; margin: 0 .1rem;
}
.reminder-card__btn {
    display: flex; align-items: center; gap: .5rem; padding: .6rem 1.4rem;
    border-radius: var(--radius-xs); border: 1px solid var(--neon-purple);
    background: var(--neon-purple-dim); color: var(--neon-purple);
    font-family: var(--font-display); font-size: .78rem; font-weight: 600;
    letter-spacing: .06em; cursor: pointer; transition: all .3s;
}
.reminder-card__btn:hover {
    background: var(--neon-purple); color: var(--bg); box-shadow: 0 0 20px var(--neon-purple-glow);
}
.reminder-card__status {
    margin-top: 1rem; font-size: .8rem; color: var(--text-dim);
    padding: .5rem .8rem; border-radius: var(--radius-xs);
    background: var(--status-bg); border-left: 3px solid var(--border); transition: all .4s;
}
.reminder-card__status.synced {
    color: var(--neon-green); border-left-color: var(--neon-green); background: var(--neon-green-dim);
}

/* ── Medicine Name Input ───────────────────────────── */
.reminder-card__text-input {
    width: 100%; padding: .55rem .8rem;
    background: var(--surface-2); color: var(--text-main);
    border: 1px solid var(--border); border-radius: var(--radius-xs);
    font-family: var(--font-mono); font-size: .82rem;
    outline: none; transition: border-color .25s, background .4s;
}
.reminder-card__text-input:focus {
    border-color: var(--neon-green);
    box-shadow: 0 0 6px var(--neon-green-glow);
}
.reminder-card__text-input::placeholder {
    color: var(--text-dim); opacity: .6;
}

/* ── Active Reminders List ─────────────────────────── */
.reminder-card__list-wrap {
    margin-top: .8rem; padding-top: .6rem;
    border-top: 1px solid var(--border);
}
.reminder-card__list-title {
    font-size: .72rem; font-weight: 600; color: var(--text-dim);
    text-transform: uppercase; letter-spacing: .06em;
    margin-bottom: .4rem; font-family: var(--font-display);
}
.reminder-list {
    list-style: none; padding: 0; margin: 0;
    max-height: 160px; overflow-y: auto;
}
.reminder-list__empty {
    font-size: .78rem; color: var(--text-dim);
    padding: .4rem 0; font-style: italic;
}
.reminder-list__item {
    display: flex; align-items: center; justify-content: space-between;
    padding: .45rem .6rem; margin-bottom: .3rem;
    background: var(--surface-2); border-radius: var(--radius-xs);
    border-left: 3px solid var(--neon-green);
    animation: slideIn .25s ease-out;
    transition: background .4s;
}
@keyframes slideIn {
    from { opacity: 0; transform: translateX(-10px); }
    to   { opacity: 1; transform: translateX(0); }
}
.reminder-list__info {
    display: flex; flex-direction: column; gap: .1rem;
}
.reminder-list__medicine {
    font-size: .82rem; font-weight: 600; color: var(--text-main);
}
.reminder-list__time {
    font-size: .7rem; color: var(--neon-green);
    font-family: var(--font-mono);
}
.reminder-list__delete {
    background: none; border: none; cursor: pointer;
    font-size: 1rem; padding: .2rem .4rem; border-radius: 4px;
    opacity: .5; transition: opacity .2s, background .2s;
}
.reminder-list__delete:hover {
    opacity: 1; background: rgba(220,60,60,.2);
}

/* ================================================================
   HISTORY TABLE
   ================================================================ */
.history-section {
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius); padding: 1.5rem 1.8rem;
    box-shadow: var(--shadow); transition: background .4s, border-color .4s;
}
.history-section__header {
    display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;
}
.history-section__title {
    font-family: var(--font-display); font-size: .9rem; font-weight: 600;
    letter-spacing: .04em; color: var(--text); transition: color .4s;
}
.history-section__refresh {
    background: transparent; border: 1px solid var(--border); color: var(--text-dim);
    font-size: .75rem; padding: .35rem .9rem; border-radius: var(--radius-xs);
    cursor: pointer; font-family: var(--font-body); transition: all .25s;
}
.history-section__refresh:hover { border-color: var(--neon-cyan); color: var(--neon-cyan); }
.history-section__actions { display: flex; gap: .5rem; align-items: center; }
.history-section__download {
    background: transparent; border: 1px solid var(--neon-green); color: var(--neon-green);
    font-size: .75rem; padding: .35rem .9rem; border-radius: var(--radius-xs);
    cursor: pointer; font-family: var(--font-display); font-weight: 600;
    letter-spacing: .04em; transition: all .25s;
}
.history-section__download:hover {
    background: var(--neon-green); color: var(--bg);
    box-shadow: 0 0 15px var(--neon-green-glow);
}

.history-section__table-wrap { overflow-x: auto; }
.history-table { width: 100%; border-collapse: collapse; font-size: .82rem; }
.history-table thead th {
    font-family: var(--font-display); font-size: .68rem; font-weight: 600;
    text-transform: uppercase; letter-spacing: .08em; color: var(--text-dim);
    padding: .7rem .6rem; border-bottom: 1px solid var(--border); text-align: left; white-space: nowrap;
}
.history-table tbody td {
    padding: .6rem .6rem; border-bottom: 1px solid var(--row-border);
    color: var(--text); font-variant-numeric: tabular-nums; white-space: nowrap;
    transition: color .4s;
}
.history-table tbody tr { transition: background .2s; }
.history-table tbody tr:hover { background: var(--row-hover); }
.history-table__empty { text-align: center; color: var(--text-dim); padding: 2rem 1rem !important; font-style: italic; }
.history-table .fall-yes { color: var(--neon-red); font-weight: 700; }
.history-table .fall-no  { color: var(--neon-green); }

/* ================================================================
   MEDICINE ALARM OVERLAY
   ================================================================ */
.alarm-overlay {
    position: fixed; inset: 0; z-index: 10001; display: none; place-items: center;
    background: rgba(20, 0, 80, .90); backdrop-filter: blur(8px);
    animation: alarm-pulse 1s ease-in-out infinite alternate;
}
.alarm-overlay.active { display: grid; }
@keyframes alarm-pulse {
    0%   { background: rgba(20, 0, 80, .92); }
    100% { background: rgba(60, 0, 120, .80); }
}
.alarm-overlay__content { text-align: center; animation: overlay-pop .4s ease-out; }
.alarm-overlay__icon {
    font-size: 5rem; display: block; margin-bottom: 1rem;
    animation: pill-bounce 1s ease-in-out infinite;
}
@keyframes pill-bounce {
    0%, 100% { transform: translateY(0); }
    50%      { transform: translateY(-15px); }
}
.alarm-overlay__title {
    font-family: var(--font-display); font-size: 2.8rem; font-weight: 900;
    color: var(--neon-purple); text-shadow: 0 0 30px var(--neon-purple-glow); letter-spacing: .08em;
}
.alarm-overlay__sub { font-size: 1.1rem; color: rgba(255,255,255,.7); margin-top: .5rem; margin-bottom: 2rem; }
.alarm-overlay__dismiss {
    font-family: var(--font-display); font-size: .9rem; font-weight: 700;
    letter-spacing: .1em; padding: .75rem 2.5rem; border: 2px solid var(--neon-purple);
    background: transparent; color: var(--neon-purple); border-radius: var(--radius-xs);
    cursor: pointer; transition: background .25s, color .25s;
}
.alarm-overlay__dismiss:hover {
    background: var(--neon-purple); color: #fff; box-shadow: 0 0 25px var(--neon-purple-glow);
}

/* ================================================================
   FOOTER
   ================================================================ */
footer {
    text-align: center;
    padding: 1.2rem;
    font-size: .75rem;
    color: var(--text-dim);
    border-top: 1px solid var(--border);
    background: var(--bg-surface);
    letter-spacing: .03em;
    transition: background .4s, border-color .4s, color .4s;
}

/* ================================================================
   AI HEALTH RISK CARD
   ================================================================ */
.risk-section { display: flex; }
.risk-card {
    flex: 1; background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius); padding: 1.5rem 1.8rem;
    box-shadow: var(--shadow); transition: background .4s, border-color .4s;
}
.risk-card__header {
    display: flex; align-items: center; gap: .7rem; margin-bottom: 1.2rem;
}
.risk-card__icon { font-size: 1.6rem; }
.risk-card__title {
    font-family: var(--font-display); font-size: .9rem; font-weight: 600;
    letter-spacing: .04em; color: var(--text); flex: 1; transition: color .4s;
}
.risk-card__badge {
    padding: .25rem .8rem; border-radius: 999px; font-size: .72rem;
    font-family: var(--font-display); font-weight: 700; letter-spacing: .05em;
    text-transform: uppercase; transition: all .4s;
}
.risk-card__badge.normal  { background: var(--neon-green-dim); color: var(--neon-green); border: 1px solid var(--neon-green); }
.risk-card__badge.warning { background: var(--neon-orange-dim); color: var(--neon-orange); border: 1px solid var(--neon-orange); }
.risk-card__badge.critical { background: var(--neon-red-dim); color: var(--neon-red); border: 1px solid var(--neon-red); animation: badge-pulse 1s ease-in-out infinite alternate; }
@keyframes badge-pulse {
    from { opacity: 1; }
    to   { opacity: .5; }
}

.risk-card__body {
    display: flex; align-items: center; gap: 2rem;
}

/* SVG Ring Gauge */
.risk-card__gauge {
    position: relative; width: 120px; height: 120px; flex-shrink: 0;
}
.risk-card__ring { width: 100%; height: 100%; transform: rotate(-90deg); }
.risk-card__ring-bg {
    fill: none; stroke: var(--bar-bg); stroke-width: 8;
}
.risk-card__ring-fill {
    fill: none; stroke: var(--neon-green); stroke-width: 8;
    stroke-linecap: round;
    transition: stroke-dashoffset .6s ease, stroke .4s;
}
.risk-card__ring-fill.warning { stroke: var(--neon-orange); }
.risk-card__ring-fill.critical { stroke: var(--neon-red); }

.risk-card__pct {
    position: absolute; inset: 0; display: grid; place-items: center;
    font-family: var(--font-display); font-size: 1.6rem; font-weight: 700;
    color: var(--text-bright); transition: color .4s;
}

/* Right side details */
.risk-card__details { flex: 1; display: flex; flex-direction: column; gap: .8rem; }

.risk-card__bar-wrap { width: 100%; }
.risk-card__bar {
    height: 8px; border-radius: 999px; background: var(--bar-bg);
    overflow: hidden;
}
.risk-card__bar-fill {
    height: 100%; border-radius: 999px;
    background: var(--neon-green); box-shadow: 0 0 8px var(--neon-green-glow);
    transition: width .6s ease, background .4s, box-shadow .4s;
}
.risk-card__bar-fill.warning {
    background: var(--neon-orange); box-shadow: 0 0 8px var(--neon-orange-dim);
}
.risk-card__bar-fill.critical {
    background: var(--neon-red); box-shadow: 0 0 8px var(--neon-red-glow);
}
.risk-card__bar-labels {
    display: flex; justify-content: space-between; margin-top: .25rem;
    font-size: .65rem; color: var(--text-dim); font-family: var(--font-mono);
}

.risk-card__status {
    font-size: .85rem; color: var(--text); transition: color .4s;
}
.risk-card__status strong {
    font-family: var(--font-display); letter-spacing: .03em;
}
.risk-card__advice {
    font-size: .78rem; color: var(--text-dim); line-height: 1.5;
    transition: color .4s;
}

/* ================================================================
   RESPONSIVE
   ================================================================ */
@media (max-width: 900px) {
    .vitals-row { grid-template-columns: 1fr; }
    header { padding: .8rem 1.2rem; }
    main   { padding: 1.2rem 1rem 2rem; }
    .chart-section__canvas-wrap { height: 220px; }
    .reminder-card__body { flex-direction: column; align-items: stretch; }
}

@media (min-width: 901px) and (max-width: 1100px) {
    .vitals-row { grid-template-columns: repeat(3, 1fr); gap: 1rem; }
    .vital-card__value { font-size: 2rem; }
}
